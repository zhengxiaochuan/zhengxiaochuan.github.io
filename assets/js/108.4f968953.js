(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{1576:function(s,a,t){"use strict";t.r(a);var n=t(62),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"docker基本概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker基本概念"}},[s._v("#")]),s._v(" Docker基本概念")]),s._v(" "),n("h1",{attrs:{id:"_1、解决的问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、解决的问题"}},[s._v("#")]),s._v(" 1、解决的问题")]),s._v(" "),n("h2",{attrs:{id:"_1、统一标准"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、统一标准"}},[s._v("#")]),s._v(" 1、统一标准")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("应用构建")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("Java、C++、JavaScript")]),s._v(" "),n("li",[s._v("打成软件包")])])]),s._v(" "),n("li",[n("ul",[n("li",[s._v(".exe")]),s._v(" "),n("li",[s._v("docker build ....   镜像")])])]),s._v(" "),n("li",[n("p",[s._v("应用分享")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("所有软件的镜像放到一个指定地方  docker hub")]),s._v(" "),n("li",[s._v("安卓，应用市场")])])]),s._v(" "),n("li",[n("p",[s._v("应用运行")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("统一标准的 "),n("strong",[s._v("镜像")])]),s._v(" "),n("li",[s._v("docker run")])])]),s._v(" "),n("li",[n("p",[s._v(".......")])])]),s._v(" "),n("p",[s._v("容器化")]),s._v(" "),n("h2",{attrs:{id:"_2、资源隔离"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、资源隔离"}},[s._v("#")]),s._v(" 2、资源隔离")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("cpu、memory资源隔离与限制")])]),s._v(" "),n("li",[n("p",[s._v("访问设备隔离与限制")])]),s._v(" "),n("li",[n("p",[s._v("网络隔离与限制")])]),s._v(" "),n("li",[n("p",[s._v("用户、用户组隔离限制")])]),s._v(" "),n("li",[n("p",[s._v("......")])])]),s._v(" "),n("h1",{attrs:{id:"_2、架构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、架构"}},[s._v("#")]),s._v(" 2、架构")]),s._v(" "),n("p",[n("img",{attrs:{src:t(441),alt:"img"}})]),s._v(" "),n("ul",[n("li",[n("p",[s._v("Docker_Host：")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("安装Docker的主机")])])]),s._v(" "),n("li",[n("p",[s._v("Docker Daemon：")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("运行在Docker主机上的Docker后台进程")])])]),s._v(" "),n("li",[n("p",[s._v("Client：")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("操作Docker主机的客户端（命令行、UI等）")])])]),s._v(" "),n("li",[n("p",[s._v("Registry：")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("镜像仓库")]),s._v(" "),n("li",[s._v("Docker Hub")])])]),s._v(" "),n("li",[n("p",[s._v("Images：")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("镜像，带环境打包好的程序，可以直接启动运行")])])]),s._v(" "),n("li",[n("p",[s._v("Containers：")])]),s._v(" "),n("li",[n("ul",[n("li",[s._v("容器，由镜像启动起来正在运行中的程序")])])])]),s._v(" "),n("p",[s._v("交互逻辑")]),s._v(" "),n("p",[s._v("装好"),n("strong",[s._v("Docker")]),s._v("，然后去 "),n("strong",[s._v("软件市场")]),s._v(" 寻找"),n("strong",[s._v("镜像")]),s._v("，下载并运行，查看"),n("strong",[s._v("容器")]),s._v("状态日志等排错")]),s._v(" "),n("h1",{attrs:{id:"_3、安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装"}},[s._v("#")]),s._v(" 3、安装")]),s._v(" "),n("h2",{attrs:{id:"_1、centos下安装docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、centos下安装docker"}},[s._v("#")]),s._v(" 1、CentOS下安装docker")]),s._v(" "),n("p",[s._v("其他系统参照如下文档")]),s._v(" "),n("p",[s._v("https://docs.docker.com/engine/install/centos/")]),s._v(" "),n("h3",{attrs:{id:"_1、移除以前docker相关包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、移除以前docker相关包"}},[s._v("#")]),s._v(" 1、移除以前docker相关包")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum remove "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-client "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-client-latest "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-common "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-latest "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-latest-logrotate "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-logrotate "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-engine\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"_2、配置yum源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置yum源"}},[s._v("#")]),s._v(" 2、配置yum源")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装yum-utils工具类")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y yum-utils\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置docker下载的yum源")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--add-repo "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nhttp://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_3、安装docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装docker"}},[s._v("#")]),s._v(" 3、安装docker")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y docker-ce docker-ce-cli containerd.io\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#以下是在安装k8s的时候使用")]),s._v("\nyum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y docker-ce-20.10.7 docker-ce-cli-20.10.7  containerd.io-1.4.6\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_4、启动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、启动"}},[s._v("#")]),s._v(" 4、启动")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#既要现在启动，也要开机启动")]),s._v("\nsystemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" --now\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_5、配置加速"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5、配置加速"}},[s._v("#")]),s._v(" 5、配置加速")]),s._v(" "),n("p",[s._v("这里额外添加了docker的生产环境核心配置cgroup")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /etc/docker\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/docker/daemon.json "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<-")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'EOF\'\n{\n  "registry-mirrors": ["https://82m9ar63.mirror.aliyuncs.com"],\n  "exec-opts": ["native.cgroupdriver=systemd"],\n  "log-driver": "json-file",\n  "log-opts": {\n    "max-size": "100m"\n  },\n  "storage-driver": "overlay2"\n}\nEOF')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports},441:function(s,a,t){s.exports=t.p+"assets/img/1624937894925-f437bd98-94e2-4334-9657-afa69bb52179.b595b80b.svg"}}]);